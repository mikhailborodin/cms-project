# Project

## Задача 

**Реализовать API со следующим набором функций:**

* Авторизация на портале используя связку логин — пароль от лица 		                  одного из пользователей;

* Получение данных пользователя (имя, адрес эл. Почты и т.п.);

* Просмотр истории заказов пользователя;

* Добавление нового заказа (N книг каждая из которых в M количестве);

* Просмотр ассортимента определенного магазина;

* Деавторизация.


## Запуск

Необходимое окружение устанавливается из Pipfile

### Миграции выполняются через alembic:

в alembic.ini надо указать `sqlalchemy.url = postgresql://postgres:postgres@localhost/dbname`

в env.py надо указать models.metadata

`alembic revision --autogenerate -m "message"` 
 
 `alembic upgrade head`


### Генератор тестовых данных.
Пример запуска `python test_data 10 users`
Важно! Если модель имеет fk то для простоты сначала создается родительская модель
 
### Схема запросов

Приложена в виде json файла `aiohttp.postman_collection.json`